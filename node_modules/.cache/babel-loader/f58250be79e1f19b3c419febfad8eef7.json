{"remainingRequest":"D:\\前端学习\\开发软件\\前端开发文件\\Vue\\实战项目\\supermall\\node_modules\\babel-loader\\lib\\index.js!D:\\前端学习\\开发软件\\前端开发文件\\Vue\\实战项目\\supermall\\src\\store\\actions.js","dependencies":[{"path":"D:\\前端学习\\开发软件\\前端开发文件\\Vue\\实战项目\\supermall\\src\\store\\actions.js","mtime":1581163621700},{"path":"D:\\前端学习\\开发软件\\前端开发文件\\Vue\\实战项目\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\前端学习\\开发软件\\前端开发文件\\Vue\\实战项目\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwpleHBvcnQgZGVmYXVsdCB7CiAgYWRkQ2FydDogZnVuY3Rpb24gYWRkQ2FydChjb250ZXh0LCBwYXlsb2FkKSB7CiAgICAvLyDmlrnms5XkuIAKICAgIC8vIGxldCBvbGRQcm9kdWN0ID0gbnVsbDsKICAgIC8vIGZvciAobGV0IGl0ZW0gb2Ygc3RhdGUuY2FydExpc3QpIHsKICAgIC8vICAgY29uc29sZS5sb2coaXRlbSk7CiAgICAvLyAgIGlmIChpdGVtLmlpZCA9PT0gcGF5bG9hZC5paWQpIHsKICAgIC8vICAgICBjb25zb2xlLmxvZyhpdGVtLmlpZCk7CiAgICAvLyAgICAgb2xkUHJvZHVjdCA9IGl0ZW0KICAgIC8vICAgfQogICAgLy8gfQogICAgLy/mlrnms5XkuowKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBvbGRQcm9kdWN0ID0gbnVsbDsKICAgICAgb2xkUHJvZHVjdCA9IGNvbnRleHQuc3RhdGUuY2FydExpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlpZCA9PT0gcGF5bG9hZC5paWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKG9sZFByb2R1Y3QpIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnYWRkQ29udGVyJywgb2xkUHJvZHVjdCk7CiAgICAgICAgcmVzb2x2ZSgn5ZWG5ZOBKzEnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXlsb2FkLmNvdW50ID0gMTsKICAgICAgICBwYXlsb2FkLmNoZWNrbGlzdCA9IHRydWU7CiAgICAgICAgY29udGV4dC5jb21taXQoJ2FkZFRvQ2FydCcsIHBheWxvYWQpOwogICAgICAgIHJlc29sdmUoJ+a3u+WKoOWVhuWTgeaIkOWKnycpOwogICAgICB9CiAgICB9KTsKICB9LAogIGFkZENvdW50OiBmdW5jdGlvbiBhZGRDb3VudChjb250ZXh0LCBpaWQpIHsKICAgIHZhciBvbGRQcm9kdWN0ID0gY29udGV4dC5zdGF0ZS5jYXJ0TGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLmlpZCA9PT0gaWlkOwogICAgfSk7CiAgICBjb250ZXh0LmNvbW1pdCgnYWRkQ29udGVyJywgb2xkUHJvZHVjdCk7CiAgfSwKICBkZWNyQ291bnQ6IGZ1bmN0aW9uIGRlY3JDb3VudChjb250ZXh0LCBpaWQpIHsKICAgIHZhciBvbGRQcm9kdWN0ID0gY29udGV4dC5zdGF0ZS5jYXJ0TGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLmlpZCA9PT0gaWlkOwogICAgfSk7CgogICAgaWYgKG9sZFByb2R1Y3QuY291bnQgPj0gMikgewogICAgICBjb250ZXh0LmNvbW1pdCgnZGVjckNvbnRlcicsIG9sZFByb2R1Y3QpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:/前端学习/开发软件/前端开发文件/Vue/实战项目/supermall/src/store/actions.js"],"names":["addCart","context","payload","Promise","resolve","reject","oldProduct","state","cartList","find","item","iid","commit","count","checklist","addCount","decrCount"],"mappings":";;AAAA,eAAe;AACbA,EAAAA,OADa,mBACLC,OADK,EACIC,OADJ,EACa;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAIC,UAAU,GAAG,IAAjB;AACAA,MAAAA,UAAU,GAAGL,OAAO,CAACM,KAAR,CAAcC,QAAd,CAAuBC,IAAvB,CAA4B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,GAAL,KAAaT,OAAO,CAACS,GAAzB;AAAA,OAAhC,CAAb;;AACA,UAAIL,UAAJ,EAAgB;AACdL,QAAAA,OAAO,CAACW,MAAR,CAAe,WAAf,EAA4BN,UAA5B;AACAF,QAAAA,OAAO,CAAC,MAAD,CAAP;AACD,OAHD,MAGO;AACLF,QAAAA,OAAO,CAACW,KAAR,GAAgB,CAAhB;AACAX,QAAAA,OAAO,CAACY,SAAR,GAAoB,IAApB;AACAb,QAAAA,OAAO,CAACW,MAAR,CAAe,WAAf,EAA4BV,OAA5B;AACAE,QAAAA,OAAO,CAAC,QAAD,CAAP;AACD;AACF,KAZM,CAAP;AAaD,GA3BY;AA4BbW,EAAAA,QA5Ba,oBA4BJd,OA5BI,EA4BKU,GA5BL,EA4BU;AACrB,QAAIL,UAAU,GAAGL,OAAO,CAACM,KAAR,CAAcC,QAAd,CAAuBC,IAAvB,CAA4B,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACC,GAAL,KAAaA,GAAjB;AAAA,KAAhC,CAAjB;AACAV,IAAAA,OAAO,CAACW,MAAR,CAAe,WAAf,EAA4BN,UAA5B;AACD,GA/BY;AAgCbU,EAAAA,SAhCa,qBAgCHf,OAhCG,EAgCMU,GAhCN,EAgCW;AACtB,QAAIL,UAAU,GAAGL,OAAO,CAACM,KAAR,CAAcC,QAAd,CAAuBC,IAAvB,CAA4B,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACC,GAAL,KAAaA,GAAjB;AAAA,KAAhC,CAAjB;;AACA,QAAIL,UAAU,CAACO,KAAX,IAAoB,CAAxB,EAA2B;AACzBZ,MAAAA,OAAO,CAACW,MAAR,CAAe,YAAf,EAA6BN,UAA7B;AACD;AACF;AArCY,CAAf","sourcesContent":["export default {\r\n  addCart(context, payload) {\r\n\r\n    // 方法一\r\n    // let oldProduct = null;\r\n    // for (let item of state.cartList) {\r\n    //   console.log(item);\r\n    //   if (item.iid === payload.iid) {\r\n    //     console.log(item.iid);\r\n    //     oldProduct = item\r\n    //   }\r\n    // }\r\n\r\n    //方法二\r\n    return new Promise((resolve, reject) => {\r\n      let oldProduct = null;\r\n      oldProduct = context.state.cartList.find(item => item.iid === payload.iid)\r\n      if (oldProduct) {\r\n        context.commit('addConter', oldProduct)\r\n        resolve('商品+1')\r\n      } else {\r\n        payload.count = 1;\r\n        payload.checklist = true\r\n        context.commit('addToCart', payload)\r\n        resolve('添加商品成功')\r\n      }\r\n    })\r\n  },\r\n  addCount(context, iid) {\r\n    let oldProduct = context.state.cartList.find(item => item.iid === iid)\r\n    context.commit('addConter', oldProduct)\r\n  },\r\n  decrCount(context, iid) {\r\n    let oldProduct = context.state.cartList.find(item => item.iid === iid)\r\n    if (oldProduct.count >= 2) {\r\n      context.commit('decrConter', oldProduct)\r\n    }\r\n  }\r\n}\r\n"]}]}