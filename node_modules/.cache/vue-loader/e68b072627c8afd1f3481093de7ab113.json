{"remainingRequest":"D:\\前端学习\\开发软件\\前端开发文件\\Vue\\实战项目\\supermall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\前端学习\\开发软件\\前端开发文件\\Vue\\实战项目\\supermall\\src\\views\\home\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\前端学习\\开发软件\\前端开发文件\\Vue\\实战项目\\supermall\\src\\views\\home\\Home.vue","mtime":1580982547173},{"path":"D:\\前端学习\\开发软件\\前端开发文件\\Vue\\实战项目\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\前端学习\\开发软件\\前端开发文件\\Vue\\实战项目\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\前端学习\\开发软件\\前端开发文件\\Vue\\实战项目\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\前端学习\\开发软件\\前端开发文件\\Vue\\实战项目\\supermall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgaXRlbUxpc3RlbmVyTWl4aW4sCiAgc2Nyb2xsVG9wTWl4aW4KfSBmcm9tICdjb21tb24vbWl4aW4nCgppbXBvcnQgTmF2QmFyIGZyb20gJ2NvbXBvbmVudHMvY29tbW9uL25hdmJhci9OYXZCYXInCmltcG9ydCBTY3JvbGwgZnJvbSAnY29tcG9uZW50cy9jb21tb24vc2Nyb2xsL1Njcm9sbCcKCmltcG9ydCBUYWJDb250cm9sIGZyb20gJ2NvbXBvbmVudHMvY29udGVudC90YWJjb250cm9sL1RhYkNvbnRyb2wnCmltcG9ydCBHb29kc0xpc3QgZnJvbSAnY29tcG9uZW50cy9jb250ZW50L2dvb2RzL0dvb2RzTGlzdCcKCmltcG9ydCBIb21lU3dpcGVyIGZyb20gJy4vY2hpbGRDb21wcy9Ib21lU3dpcGVyJwppbXBvcnQgUmVjb21tZW5kVmlldyBmcm9tICcuL2NoaWxkQ29tcHMvUmVjb21tZW5kVmlldycKaW1wb3J0IEZlYXR1cmVWaWV3IGZyb20gJy4vY2hpbGRDb21wcy9GZWF0dXJlVmlldycKCi8v572R57uc6K+35rGC5pa55rOVCmltcG9ydCB7CiAgZ2V0SG9tZU11bHRpZGF0YSwKICBnZXRIb21lR29vZHNkYXRhCn0gZnJvbSAnbmV0d29yay9ob21lJwoKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9tZScsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJhbm5lcnM6IFtdLAogICAgICByZWNvbW1lbmRzOiBbXSwKICAgICAgZ29vZHM6IHsKICAgICAgICAncG9wJzogewogICAgICAgICAgcGFnZTogMCwKICAgICAgICAgIGxpc3Q6IFtdCiAgICAgICAgfSwKICAgICAgICAnbmV3JzogewogICAgICAgICAgcGFnZTogMCwKICAgICAgICAgIGxpc3Q6IFtdCiAgICAgICAgfSwKICAgICAgICAnc2VsbCc6IHsKICAgICAgICAgIHBhZ2U6IDAsCiAgICAgICAgICBsaXN0OiBbXQogICAgICAgIH0KICAgICAgfSwKICAgICAgY3VycmVuVHlwZTogJ25ldycsCiAgICAgIHRhYkNvbnRyb2xTaG93OiBmYWxzZSwKICAgICAgU3dpcGVyT2Zmc2V0VG9wOiAwLAogICAgICBzY3JvbGxZOiAwCiAgICB9CiAgfSwKICBtaXhpbnM6IFtpdGVtTGlzdGVuZXJNaXhpbiwgc2Nyb2xsVG9wTWl4aW5dLAogIGNvbXBvbmVudHM6IHsKICAgIE5hdkJhciwKICAgIFNjcm9sbCwKICAgIFRhYkNvbnRyb2wsCiAgICBHb29kc0xpc3QsCgogICAgSG9tZVN3aXBlciwKICAgIFJlY29tbWVuZFZpZXcsCiAgICBGZWF0dXJlVmlldwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNob3dHb29kcygpIHsKICAgICAgcmV0dXJuIHRoaXMuZ29vZHNbdGhpcy5jdXJyZW5UeXBlXS5saXN0CiAgICB9CiAgfSwKICAvL3Z1ZeWIm+W7uuWHuuadpeadpeaXtuaXtuiwg+eUqOeahOeUn+WRveWRqOacn+WHveaVsAogIGNyZWF0ZWQoKSB7CiAgICAvL+iwg+eUqOiOt+WPlui9ruaSreWbvuWSjOWIhuexu+WbvueahOaWueazlQogICAgdGhpcy5nZXRIb21lTXVsdGlkYXRhKCkKCiAgICAvL+iwg+eUqOiOt+WPluWIhuexu+mHjOmdoueahOaVsOaNrueahOaWueazlQogICAgdGhpcy5nZXRIb21lR29vZHNkYXRhKCdwb3AnKQogICAgdGhpcy5nZXRIb21lR29vZHNkYXRhKCduZXcnKQogICAgdGhpcy5nZXRIb21lR29vZHNkYXRhKCdzZWxsJykKCiAgfSwKICAvL+W9k3RlbXBsYXRl5oyC6L295YiwZG9t5LiK5Lya5Zue6LCD55qECiAgbW91bnRlZCgpIHt9LAogIC8v5b2T5YmN5Li76ZSu5aSE5LqO5rS76LeD5pe26LCD55SoCiAgYWN0aXZhdGVkKCkgewogICAgLy/lm57liLDmjIflrprkvY3nva4KICAgIHRoaXMuJHJlZnMuc2Nyb2xsLmJhY2t0b3AoMCwgdGhpcy5zY3JvbGxZKTsKICAgIC8v5Yi35pawCiAgICB0aGlzLiRyZWZzLnNjcm9sbC5yZWZyZXNoKCk7CiAgfSwKICAvL+W9k+WJjee7hOS7tuemu+W8gOaXtuiwg+eUqAogIGRlYWN0aXZhdGVkKCkgewogICAgLy8g6K6w5b2V56a75byA5pe255qE5L2N572uCiAgICB0aGlzLnNjcm9sbFkgPSB0aGlzLiRyZWZzLnNjcm9sbC5zY3JvbGxZKCkKICAgIC8v5Yig6ZmkJGJ1c+mHjOmdoueahOaWueazlQogICAgdGhpcy4kYnVzLiRvZmYoJ2l0ZW1JbWFnZUxvYWQnLCB0aGlzLmxpc3RJbWFnZUxvYWQpCiAgfSwKICBtZXRob2RzOiB7CiAgICAvKgogICAgICrkuovku7bnm5HlkKwKICAgICAqLwogICAgLy/liIbnsbt0YWLnmoTliIfmjaIKICAgIHRhYmNsaWNrKGluZGV4KSB7CiAgICAgIHN3aXRjaCAoaW5kZXgpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICB0aGlzLmN1cnJlblR5cGUgPSAncG9wJwogICAgICAgICAgYnJlYWsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB0aGlzLmN1cnJlblR5cGUgPSAnbmV3JwogICAgICAgICAgYnJlYWsKICAgICAgICBjYXNlIDI6CiAgICAgICAgICB0aGlzLmN1cnJlblR5cGUgPSAnc2VsbCcKICAgICAgICAgIGJyZWFrCiAgICAgIH0KICAgICAgdGhpcy4kcmVmcy50YWJDb250cm9sMS5jdXJyZW50SW5kZXggPSBpbmRleDsKICAgICAgdGhpcy4kcmVmcy50YWJDb250cm9sMi5jdXJyZW50SW5kZXggPSBpbmRleDsKICAgICAgdGhpcy4kcmVmcy5zY3JvbGwuYmFja3RvcCgwLCAtdGhpcy5Td2lwZXJPZmZzZXRUb3AsIDApCiAgICB9LAoKICAgIC8vc2Nyb2xs5rua5Yqo5pe255qE5LqL5Lu255uR5ZCsCiAgICBvbnNjcm9sbFRvcChwb3NpdGlvbikgewogICAgICAvL+WIsOaMh+WumuS9jee9ruaYvuekuue9rumhtuWbvuaghwogICAgICB0aGlzLnNob3dUb3AocG9zaXRpb24pCiAgICAgIC8vdGFiQ29udHJvbOWQuOmhtgogICAgICB0aGlzLnRhYkNvbnRyb2xTaG93ID0gLXBvc2l0aW9uLnkgPiB0aGlzLlN3aXBlck9mZnNldFRvcAoKICAgIH0sCiAgICAvL+S4iuaLieWKoOi9veaVsOaNrgogICAgcHVsbGluZ1VwKCkgewogICAgICB0aGlzLmdldEhvbWVHb29kc2RhdGEodGhpcy5jdXJyZW5UeXBlKQogICAgICB0aGlzLiRyZWZzLnNjcm9sbC5maW5pc2hQdWxsVXAoKQogICAgfSwKICAgIC8v562J6L2u5pKt5Zu+5Yqg6L295Ye65p2l5ZCO77yM5bCx6K6h566XdGFiLWNvbnRybyDnmoTkvY3nva7pq5jluqYKICAgIHN3aXBlckltYWdlTG9hZCgpIHsKICAgICAgdGhpcy5Td2lwZXJPZmZzZXRUb3AgPSB0aGlzLiRyZWZzLnRhYkNvbnRyb2wyLiRlbC5vZmZzZXRUb3AKICAgIH0sCgogICAgLyoKICAgICAq5ZWK572R57uc6K+35rGCCiAgICAgKi8KICAgIC8v6I635Y+W6L2u5pKt5Zu+5ZKM5YiG57G75Zu+55qE5pa55rOVCiAgICBnZXRIb21lTXVsdGlkYXRhKCkgewogICAgICBnZXRIb21lTXVsdGlkYXRhKCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuYmFubmVycyA9IHJlcy5kYXRhLmJhbm5lci5saXN0OwogICAgICAgIHRoaXMucmVjb21tZW5kcyA9IHJlcy5kYXRhLnJlY29tbWVuZC5saXN0OwogICAgICB9KQogICAgfSwKICAgIC8v6I635Y+W5YiG57G76YeM6Z2i55qE5pWw5o2u55qE5pa55rOVCiAgICBnZXRIb21lR29vZHNkYXRhKHR5cGUpIHsKICAgICAgY29uc3QgcGFnZSA9IHRoaXMuZ29vZHNbdHlwZV0ucGFnZSArIDEKICAgICAgZ2V0SG9tZUdvb2RzZGF0YSh0eXBlLCBwYWdlKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5nb29kc1t0eXBlXS5saXN0LnB1c2goLi4ucmVzLmRhdGEubGlzdCkKICAgICAgfSkKICAgICAgLy8gY29uc29sZS5sb2codGhpcy4kcmVmcyk7CiAgICB9CiAgfSwKfQoK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\r\n  <div class=\"Home\">\r\n    <!-- NarBar栏 -->\r\n    <nav-bar class=\"home-nav\">\r\n      <div slot='center'>特惠街</div>\r\n    </nav-bar>\r\n\r\n    <!-- 文字分类栏 -->\r\n    <tab-control class=\"tab-control1\" :titles=\"['流行','型款','精选']\" @tabclick='tabclick' v-show='tabControlShow'\r\n      ref='tabControl1'>\r\n    </tab-control>\r\n    <!-- 滚动插件 -->\r\n    <scroll class=\"content\" ref='scroll' :probe-type=3 @scroll='onscrollTop' :pull-up-load='true'\r\n      @pullingUp='pullingUp'>\r\n      <!-- 轮播图 -->\r\n      <home-swiper :banners='banners' @swiperImageLoad='swiperImageLoad'></home-swiper>\r\n      <!-- 图片分类栏 -->\r\n      <recommend-view :recommends='recommends'></recommend-view>\r\n      <!-- 图片链接 -->\r\n      <feature-view></feature-view>\r\n      <!-- 文字分类栏 -->\r\n      <tab-control class=\"tab-control2\" :titles=\"['流行','型款','精选']\" @tabclick='tabclick' ref='tabControl2'>\r\n      </tab-control>\r\n      <!-- 分类下的商品 -->\r\n      <goods-list :goods=\"showGoods\"></goods-list>\r\n    </scroll>\r\n    <back-top @click.native='backClick' v-show='scrollTop' />\r\n  </div>\r\n</template>\r\n<script>\r\n  import {\r\n    itemListenerMixin,\r\n    scrollTopMixin\r\n  } from 'common/mixin'\r\n\r\n  import NavBar from 'components/common/navbar/NavBar'\r\n  import Scroll from 'components/common/scroll/Scroll'\r\n\r\n  import TabControl from 'components/content/tabcontrol/TabControl'\r\n  import GoodsList from 'components/content/goods/GoodsList'\r\n\r\n  import HomeSwiper from './childComps/HomeSwiper'\r\n  import RecommendView from './childComps/RecommendView'\r\n  import FeatureView from './childComps/FeatureView'\r\n\r\n  //网络请求方法\r\n  import {\r\n    getHomeMultidata,\r\n    getHomeGoodsdata\r\n  } from 'network/home'\r\n\r\n\r\n  export default {\r\n    name: 'Home',\r\n    data() {\r\n      return {\r\n        banners: [],\r\n        recommends: [],\r\n        goods: {\r\n          'pop': {\r\n            page: 0,\r\n            list: []\r\n          },\r\n          'new': {\r\n            page: 0,\r\n            list: []\r\n          },\r\n          'sell': {\r\n            page: 0,\r\n            list: []\r\n          }\r\n        },\r\n        currenType: 'new',\r\n        tabControlShow: false,\r\n        SwiperOffsetTop: 0,\r\n        scrollY: 0\r\n      }\r\n    },\r\n    mixins: [itemListenerMixin, scrollTopMixin],\r\n    components: {\r\n      NavBar,\r\n      Scroll,\r\n      TabControl,\r\n      GoodsList,\r\n\r\n      HomeSwiper,\r\n      RecommendView,\r\n      FeatureView\r\n    },\r\n    computed: {\r\n      showGoods() {\r\n        return this.goods[this.currenType].list\r\n      }\r\n    },\r\n    //vue创建出来来时时调用的生命周期函数\r\n    created() {\r\n      //调用获取轮播图和分类图的方法\r\n      this.getHomeMultidata()\r\n\r\n      //调用获取分类里面的数据的方法\r\n      this.getHomeGoodsdata('pop')\r\n      this.getHomeGoodsdata('new')\r\n      this.getHomeGoodsdata('sell')\r\n\r\n    },\r\n    //当template挂载到dom上会回调的\r\n    mounted() {},\r\n    //当前主键处于活跃时调用\r\n    activated() {\r\n      //回到指定位置\r\n      this.$refs.scroll.backtop(0, this.scrollY);\r\n      //刷新\r\n      this.$refs.scroll.refresh();\r\n    },\r\n    //当前组件离开时调用\r\n    deactivated() {\r\n      // 记录离开时的位置\r\n      this.scrollY = this.$refs.scroll.scrollY()\r\n      //删除$bus里面的方法\r\n      this.$bus.$off('itemImageLoad', this.listImageLoad)\r\n    },\r\n    methods: {\r\n      /*\r\n       *事件监听\r\n       */\r\n      //分类tab的切换\r\n      tabclick(index) {\r\n        switch (index) {\r\n          case 0:\r\n            this.currenType = 'pop'\r\n            break\r\n          case 1:\r\n            this.currenType = 'new'\r\n            break\r\n          case 2:\r\n            this.currenType = 'sell'\r\n            break\r\n        }\r\n        this.$refs.tabControl1.currentIndex = index;\r\n        this.$refs.tabControl2.currentIndex = index;\r\n        this.$refs.scroll.backtop(0, -this.SwiperOffsetTop, 0)\r\n      },\r\n\r\n      //scroll滚动时的事件监听\r\n      onscrollTop(position) {\r\n        //到指定位置显示置顶图标\r\n        this.showTop(position)\r\n        //tabControl吸顶\r\n        this.tabControlShow = -position.y > this.SwiperOffsetTop\r\n\r\n      },\r\n      //上拉加载数据\r\n      pullingUp() {\r\n        this.getHomeGoodsdata(this.currenType)\r\n        this.$refs.scroll.finishPullUp()\r\n      },\r\n      //等轮播图加载出来后，就计算tab-contro 的位置高度\r\n      swiperImageLoad() {\r\n        this.SwiperOffsetTop = this.$refs.tabControl2.$el.offsetTop\r\n      },\r\n\r\n      /*\r\n       *啊网络请求\r\n       */\r\n      //获取轮播图和分类图的方法\r\n      getHomeMultidata() {\r\n        getHomeMultidata().then(res => {\r\n          this.banners = res.data.banner.list;\r\n          this.recommends = res.data.recommend.list;\r\n        })\r\n      },\r\n      //获取分类里面的数据的方法\r\n      getHomeGoodsdata(type) {\r\n        const page = this.goods[type].page + 1\r\n        getHomeGoodsdata(type, page).then(res => {\r\n          this.goods[type].list.push(...res.data.list)\r\n        })\r\n        // console.log(this.$refs);\r\n      }\r\n    },\r\n  }\r\n\r\n</script>\r\n<style>\r\n  .home-nav {\r\n    background-color: var(--color-tint);\r\n    color: #fff;\r\n  }\r\n\r\n  .tab-control1 {\r\n    position: relative;\r\n    z-index: 10;\r\n  }\r\n\r\n  .content {\r\n    position: fixed;\r\n    top: 44px;\r\n    left: 0px;\r\n    right: 0px;\r\n    bottom: 49px;\r\n    overflow: hidden;\r\n  }\r\n\r\n</style>\r\n"]}]}